# 1 函数

## 1.1 函数定义

**函数**

* 函数：定义好的、可重用的功能模块

* 定义函数：将一个模块的算法用C++描述出来

* 函数名：功能模块的名字

* 函数的参数：计算所需要的数据和条件

* 函数的返回值：需要返回的计算结果

* 函数定义的语法形式
```
类型标识符 函数名(形式参数表)
{
	语句序列
}

```

## 1.2 函数调用

**调用函数需要先声明函数原型**

* 若函数定义在调用点之前，可以不另外声明；

* 若函数定义在调用点之后，必须要在调用函数前声明函数原型：

* 函数原型：类型标识符 被调用函数名（含类型说明的形参表）

 
**函数调用形式**

* 函数名（实参列表）

![](http://sc0.ykt.io/ue_i/20191116/1195549444330885120.png)

* 嵌套调用：在一个函数的函数体中，调用另一函数。

## 1.3 嵌套与递归

### 函数的嵌套调用

![](http://sc0.ykt.io/ue_i/20191116/1195550026328313856.png)

### 函数的递归调用

**定义**

* 函数直接或间接地调用自身，称为递归调用。

**例：计算n!**

* 公式1：n!=n×(n-1)×(n-2)×(n-3)×...×2×1.

* 公式2：

![](http://sc0.ykt.io/ue_i/20191116/1195550393615126528.png)

**例如，计算4!的两个阶段：**

* 递推：

![](http://sc0.ykt.io/ue_i/20191116/1195550499735212032.png)

* 回归：

![](http://sc0.ykt.io/ue_i/20191116/1195550605779800064.png)

## 1.4 函数的参数传递

* 在函数被调用时才分配形参的存储单元

* 实参可以是常量、变量或表达式

* 值传递是传递参数值，即单向传递

* 引用传递可以实现双向传递

* 

## 1.5 引用类型


## 1.6 含有可变参数的函数


## 1.7 内联函数

**内联函数**

* 声明时使用关键字 inline。

* 编译时在调用处用函数体进行替换，节省了参数传递、控制转移等开销。

* 注意：

  * 内联函数体内不能有循环语句和switch语句；

  * 内联函数的定义必须出现在内联函数第一次被调用之前；

  * 对内联函数不能进行异常接口声明。


**例3-14  内联函数应用举例**
```
#include <iostream>
using namespace std;

const double PI = 3.14159265358979;

inline double calArea(double radius) {

          return PI * radius * radius;

}

 

int main() {

          double r = 3.0;

          double area = calArea(r);

          cout << area << endl;

          return 0;

}
```
## 1.8 constexpr函数

**constexpr函数语法规定**

* constexpr修饰的函数在其所有参数都是constexpr时，一定返回constexpr；

* 函数体中必须有且仅有一条return语句。

**constexpr函数举例**

* constexpr int get_size() { return 20; }

* constexpr int foo = get_size();  //正确：foo是一个常量表达式

## 1.9 带默认参数值的函数

![](http://sc0.ykt.io/ue_i/20200304/1235056462057836544.png)

![](http://sc0.ykt.io/ue_i/20200304/1235056566277902336.png)

## 1.11 函数重载

**函数重载的概念**

* C++允许功能相近的函数在相同的作用域内以相同函数名声明，从而形成重载。方便使用，便于记忆。

* 注意事项

  * 重载函数的形参必须不同:个数不同或类型不同。

  * 编译程序将根据实参和形参的类型及个数的最佳匹配来选择调用哪一个函数。

  * 不要将不同功能的函数声明为重载函数，以免出现调用结果的误解、混淆。这样不好：



## 1.12 C++系统函数

* C++的系统库中提供了几百个函数可供程序员使用，例如：

  * 求平方根函数(sqrt)
  
  * 求绝对值函数(abs)
  
* 使用系统函数时要包含相应的头文件，例如：

  * cmath

